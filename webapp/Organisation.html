<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <div id='test'></div>
</body>
</html>

<script language="JavaScript" type="text/javascript" src="jquery-2.1.1.min.js"></script>
<script>

    //When DOM loaded we attach click event to button
    $(document).ready(function() {



        $.ajax({
                url: "http://localhost:8181/v1/cart/print/organisation",
                type: "GET",
                crossDomain: true,
                dataType: 'jsonp',

                dataType: "text",
                success: function(data) {
                    var html =  print($.parseJSON(data));
                    document.getElementById('test').innerHTML = html;

                }
            });



        function print(input){
            var root = input.data;
            var leafs = input.subOrgs;




            var clientHtml = '<table>' + '<tr><td>Name</td><td>'+ root+'</td></tr>'
            clientHtml += printLeafs(leafs);
            clientHtml += '</table>';
            /*
            var len = input.products.length;

            var table = '<table>'
            for(i = 0; i<len; i++) {
                var product = input.products[i];
                table += '<tr><td>'+ product.name +'</td><td></td><td></td></tr>'
                var array = JSON.stringify(product.attributes);
                var attributes = array.split(',');
                    for(j = 0; j < attributes.length; j++) {
                        var f = (attributes[j]).replace(/{|}|"/g,'');
                        var attribute = f.split(':');
                        var value1 = attribute[0];
                        var value2 = attribute[1];
                        table += '<tr><td></td><td>'+attribute[0]+'</td><td>'+attribute[1]+'</td></tr>'
                    }

            }

            table += '</table>';

            clientHtml += table;
             */
            return clientHtml;

            function printLeafs(leafs) {
                var len = leafs.length;
                var html = '';
                for(i = 0; i<len; i++) {
                      html += '<td>' + leafs[i].data + '</td>' ;
                      if(leafs[i].leaf == false) {
                          html += '<tr>' + printLeafs(leafs[i].subOrgs) + '</tr>';
                      }
                }

            return html;
            }

        }

    });
</script>